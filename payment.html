<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Payment Gateway</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<!-- STYLE CSS -->
		<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
        <link href="vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
        <link href="vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
        <link href="vendor/remixicon/remixicon.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="bootstrap/bootstrap-social/bootstrap-social.css">
        <link href="css/commoncss.css" rel="stylesheet">
        <style>
            input {
                margin: 20px;
                width: 50%;
            }
            form {
                margin-bottom: 8px;
            }
                    </style>
	</head>

	<body>
        <center><h2>Welcome to payment gateway</h2></center>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                </div>
                <div class="col-lg-6 col-md-6" style="background-color: #6c757d;padding: 20px;display: flex;flex-direction: column;
                flex-wrap: wrap;justify-content: center;align-items: center;border-radius: 10px;">
                    <form onsubmit="return phoneAuth()">
                        <input type="number" id="debit-no" placeholder="Enter Debit card Number" required>:<label for="debit-no"> Debit Card Number</label>
                        <input type="text" id="acc-name" placeholder="Enter name of account holder" required>:<label for="acc-name"> Account Holder's Name</label>
                        <input type="date" id="expiry" required>:<label for="expiry">The expiry date of debit card</label>
                        <input type="number" id="cvv" placeholder="Enter CVV" required>:<label for="cvv">CVV</label>
                        <input type="text" id="number" placeholder="+91**********" required>:<label for="ph">Valid Phone Number</label>
                        <div id="recaptcha-container"></div>
                        <center><button type="submit" id="opt-btn" class="btn btn-success">Get OTP</button></center>
                    </form>
                    <div class="amount" style="padding: 10px 10px 7px 10px;background-color: antiquewhite;border-radius: 5px;margin-bottom: 6px;">
                        <p style="font-family: hel;font-weight: 600;">Money to be withdrawn :&nbsp;<span id="amt"></span></p>
                    </div>
                    
                    <form id="two" style="display:none;">
                        <p>Enter verification code</p>
                        <input type="text" id="verificationCode" required>:<label for="verificationCode"> Enter verification code</label>
                        <button type="" onclick="codeverify();" class="btn btn-primary">Verify</button>
                    </form>
                </div>
                <div class="col-lg-3 col-md-3">
                </div>
                
            </div>
        </div>
		<a href="query.html" title="query chat bot" class="back-to-topq query-btn"><i class="fa fa-question"></i></a>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/purecounter/purecounter.js"></script>
    <script src="vendor/glightbox/js/glightbox.min.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-firestore.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-database.js"></script>
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
	<script src="js/config.js"></script>
    <script>
        var money=0;
        if(localStorage.money)
        money=localStorage.money;
        document.getElementById("amt").innerHTML=money;
        window.onload=function () {
  render();
};
function render() {
    window.recaptchaVerifier=new firebase.auth.RecaptchaVerifier('recaptcha-container');
    recaptchaVerifier.render();
}
function phoneAuth() {
    //get the number
    var number=document.getElementById('number').value;
    //phone number authentication function of firebase
    //it takes two parameter first one is number,,,second one is recaptcha
    firebase.auth().signInWithPhoneNumber(number,window.recaptchaVerifier).then(function (confirmationResult) {
        //s is in lowercase
        window.confirmationResult=confirmationResult;
        coderesult=confirmationResult;
        console.log(coderesult);
        alert("Message sent");
    }).catch(function (error) {
        alert(error.message);
    });
    document.getElementById("two").style.display="block";
}
function codeverify() {
    var code=document.getElementById('verificationCode').value;
    coderesult.confirm(code).then(function (result) {
        alert("Successfully registered");
        localStorage.setItem('money',0);
        var user=result.user;
        console.log(user);
    }).catch(function (error) {
        alert(error.message);
    });
}
    </script>
	</body>
</html>